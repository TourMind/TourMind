<%= form_with model: site, class:'contents', local: true, data: { turbo: false } do |form| %>
  <%= render 'shared/error_message' , record: site %>
  <div class='my-5'>
    <%= form.label :name ,'景點名稱' %>
    <%= form.text_field :name, class:'block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full' %>
  </div>
  <div class='my-5'>
    <%= form.label :website, '網站' %>
    <%= form.text_field :website, class:'block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2
          w-full' %>
  </div>
  <div class='my-5'>
    <%= form.label :tel , '電話' %>
    <%= form.telephone_field :tel, class:'block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full' %>
  </div>
  <div class='my-5'>
    <%= form.label :stay_duration, '停留時間(小時)' %>
    <%= form.text_field :stay_duration, class:'block shadow rounded-md border border-gray-200 outline-none px-3 py-2
          mt-2 w-full' %>
  </div>
  <div class='my-5'>
    <%= form.label :address, '地址' %>
    <%= form.text_area :address, class:'block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2
          w-full' %>
  </div>
  <div class='my-5'>
    <%= form.label :latitude, '緯度' %>
    <%= form.text_field :latitude, class:'block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2
          w-full' %>
  </div>
  <div class='my-5'>
    <%= form.label :longitude, '經度' %>
    <%= form.text_field :longitude, class:'block shadow rounded-md border border-gray-200 outline-none px-3 py-2
          mt-2 w-full' %>
  </div>
  <div class='my-5'>
    <%= form.label :intro, '簡介' %>
    <%= form.text_area :intro, class:'block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2
          w-full' %>
  </div>
  <div class="flex flex-wrap">
    <%= form.label :images, '照片' %>
    <% site.images.each do |image| %>
      <%= hidden_field_tag "site[images][]", image.identifier, id: "site_images_#{image.identifier}" %>
      <%= image_tag image.url, class: "w-32 h-32 object-cover rounded px-2" %>
    <% end %>
    <%= form.file_field :images, multiple: true, class: 'block shadow rounded-md border border-gray-200 outline-none px-3 py-2 mt-2 w-full', accept: 'image/jpeg,image/gif,image/png,image/jpg'%>
    <%= form.hidden_field :images_cache %>
  </div>
  <div class='my-5'>
    <%= form.label :pet_friendly , '是否可攜帶寵物' %>
    <%= form.select :pet_friendly, options_for_select(['可攜寵物', '禁止攜帶寵物' ], selected: @site.pet_friendly), {
            include_blank: '請選擇' }, prompt: '請選擇' %>
  </div>
  <div class='my-5'>
    <%= form.label :parking , '是否附設停車場' %>
    <%= form.select :parking, options_for_select(['是', '否'], selected: @site.parking), {
            include_blank: '請選擇' }, prompt: '請選擇' %>
  </div>
  <div class='my-5'>
    <%= form.label :site_types, '景點類型' , class: 'block' %>
    <% site_types=%w[自然景觀 歷史文化遺產 美術館 科博館 公園休閒 購物中心 主題樂園 海邊 動物園 體育館 溫泉景點 觀光勝地] %>
    <div class='inline-block'>
      <% site_types.each do |site_type| %>
        <label class='inline-flex items-center mr-4'>
          <%= check_box_tag 'site[site_types][]' , site_type,@site.site_types.include?(site_type),
                  class: 'h-5 w-5 text-gray-600' %>
          <%= site_type %>
        </label>
      <% end %>
    </div>
  </div>
  <div class='inline'>
    <%= form.submit '提交' , class:'rounded-lg py-3 px-5 bg-blue-500 text-white inline-block font-medium cursor-pointer'
        %>
    <%= link_to '返回景點清單', dashboard_sites_path, class:'ml-2 rounded-lg py-3 px-5 inline-block font-medium text-white bg-blue-500' %>
  </div>
<% end %>
