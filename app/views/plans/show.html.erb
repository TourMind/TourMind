<main class="flex flex-col -mt-12 py-5">
  <div>
    <%= link_to "所有行程", plans_path, class: "text-blue-600 mx -3"%>
    <%= link_to "編輯行程", edit_plan_path(@plan), class: "text-blue-600"%>
    <%= link_to "刪除行程", plan_path(@plan.id), method: "delete", class: "text-blue-600"%>
  </div>
  <section class="flex w-full h-96 mt-3 gap-2 relative">
    <!-- component -->
    <button class="flex justify-center opacity-80 group absolute right-3 bottom-3 h-7 w-28 overflow-hidden rounded-full bg-slate-800 text-lg shadow">
      <div class="absolute inset-0 w-0 bg-white transition-all duration-[250ms] ease-out group-hover:w-full"></div>
      <span class="relative text-white group-hover:text-black text-sm self-center">查看所有照片</span>
    </button>
    <div class="h-full w-2/3 overflow-hidden">
      <img src="https://media-cdn.tripadvisor.com/media/attractions-splice-spp-720x480/0c/07/cb/15.jpg" alt="" class="object-fit w-full h-full">
    </div>
    <div class="h-full w-1/3 flex flex-col gap-2">
      <div class="h-1/2 w-full overflow-hidden">
        <img src="https://media-cdn.tripadvisor.com/media/attractions-splice-spp-720x480/0c/07/cb/19.jpg" alt="" class="object-fit w-full h-full">
      </div>
      <div class="h-1/2 w-full  overflow-hidden">
        <img src="https://media-cdn.tripadvisor.com/media/attractions-splice-spp-720x480/0c/07/cb/18.jpg" alt="" class="object-fit w-full h-full">
      </div>
    </div>
  </section>
  <section class="mx-3">
    <div class=" w-2/3">
      <h1 class="mt-8 text-3xl font-medium"><%= @plan.name %></h1>
      <p class="mt-2 text-sm underline text-slate-700"><a href="">提供者：王大明</a></p>
      <div class="flex items-center my-3">
        <svg aria-hidden="true" class="w-7 h-7 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>First star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
        <svg aria-hidden="true" class="w-7 h-7 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Second star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
        <svg aria-hidden="true" class="w-7 h-7 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Third star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
        <svg aria-hidden="true" class="w-7 h-7 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Fourth star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
        <svg aria-hidden="true" class="w-7 h-7 text-gray-300 dark:text-gray-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Fifth star</title><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
        <p class="ml-2 text-sm font-medium text-gray-500 dark:text-gray-400">4.95</p>
        <p class="ml-2 text-sm font-medium text-gray-500 dark:text-gray-400 hover:underline"><a href="">87則評論</a></p>
      </div>
      <p class="my-3 w-3/4 text-slate-700 text-m"><%= @plan.description %></p>
      <div class="border-y-2 border-slate-300 w-full">
        <p class="my-3 text-slate-700 text-m">適合人數： 2 人</p>
        <p class="my-3 text-slate-700 text-m">所需時間： <%= @plan.days %> 天</p>
        <p class="my-3 text-slate-700 text-m">分類： <%= @plan.category %></p>
      </div>
    </div>
  </section>
  <section class="my-3 mx-3">
    <h1 class="mt-8 text-3xl font-medium mb-5">行程</h1>
    <div class="">
      <div class="h-20 bg-white w-full flex">
        <div class="h-full w-28 bg-slate-200 border-2 border-slate-500 -mr-1 text-center flex justify-center">
          <span class="inline-block self-center">概覽</span>
        </div>
        <% @plan.days.times do |i| %>
          <div class="h-full w-28 bg-slate-200 border-2 border-slate-500 -mr-1 text-center flex justify-center">
            <span class="inline-block self-center">第 <%= i + 1 %> 天</span>
          </div>
        <% end %>
      </div>
      <div>
        <% if @plan.locations != nil %>
          <div class="flex bg-white rounded-lg shadow-xl p-8 gap-3 flex-wrap">
            <% @plan.locations.each_key.with_index do |key, i| %>
              <div class="relative px-4">
                <h4 class="text-xl text-gray-900 font-bold">第<%= i + 1 %>天</h4>
                <div
          class="absolute h-full border border-dashed border-opacity-20 border-secondary"
        ></div>
                <% @plan.locations[key].each do |site| %>
                  <!-- start::Timeline item -->
                  <div class="flex items-center w-full my-6 -ml-1.5">
                    <div class="w-1/12 z-10">
                      <div class="w-3.5 h-3.5 bg-blue-600 rounded-full"></div>
                    </div>
                    <div class="w-11/12 ml-2">
                      <p class="text-sm">
                        <%= site["type"] %>
                        <a href="#" class="text-blue-600 font-bold"><%= site["name"] %></a>
                      </p>
                      <p class="text-xs text-gray-500">停留時間：<%= site["stay_time"] %> mins</p>
                    </div>
                  </div>
                  <!-- end::Timeline item -->
                <% end %>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </section>
</main>
